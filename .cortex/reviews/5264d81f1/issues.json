[
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/CortexAgentLangGraph.ts",
    "line": 9,
    "end_line": 30,
    "severity": "high",
    "category": "brainwav-prohibition",
    "description": "TODO comments and temporary stubs in production code - violates brAInwav prohibition on TODO/FIXME in runtime paths",
    "evidence": "// TODO: Fix kernel-contracts package build due to noEmit setting\n// Temporary stubs to unblock type checking",
    "fix": "Remove TODO comment and either implement proper types or move stubs to test files with clear justification",
    "tests_to_add": "Add integration test that validates kernel-contracts integration works without stubs",
    "rule": "brainwav-prohibition",
    "standards": [
      "codestyle:production-paths",
      "governance:RULES_OF_AI#prohibited-patterns",
      "checklist:6.1-build-verification"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/CortexAgentLangGraph.ts",
    "line": 164,
    "end_line": 164,
    "severity": "medium",
    "category": "brainwav-branding",
    "description": "Missing brAInwav branding in console warning",
    "evidence": "console.warn('Stream result is not iterable:', streamResult);",
    "fix": "Add brAInwav branding: console.warn('[brAInwav] Stream result is not iterable:', streamResult);",
    "tests_to_add": "Add test that verifies all console output includes brAInwav branding",
    "rule": "brainwav-branding",
    "standards": [
      "governance:brand-logs-required",
      "checklist:6.2-branding-verification"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/MasterAgent.ts",
    "line": 10,
    "end_line": 39,
    "severity": "high",
    "category": "brainwav-prohibition",
    "description": "TODO comments and temporary stubs in production code",
    "evidence": "// TODO: Fix model-gateway package dependencies - temporary stubs\n// Temporary stubs to unblock type checking",
    "fix": "Remove TODO and implement proper model-gateway integration or move to test infrastructure",
    "tests_to_add": "Test validates model-gateway integration without stubs",
    "rule": "brainwav-prohibition",
    "standards": [
      "codestyle:production-paths",
      "governance:RULES_OF_AI#prohibited-patterns"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/MasterAgent.ts",
    "line": 41,
    "end_line": 63,
    "severity": "high",
    "category": "brainwav-prohibition",
    "description": "Additional TODO comments and temporary stubs in production code",
    "evidence": "// TODO: Fix kernel-contracts package build due to noEmit setting\n// Temporary stubs to unblock type checking",
    "fix": "Remove TODO comments and implement proper kernel-contracts integration",
    "tests_to_add": "Integration test validates kernel-contracts functionality",
    "rule": "brainwav-prohibition",
    "standards": [
      "codestyle:production-paths",
      "governance:RULES_OF_AI#prohibited-patterns"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/langgraph/streaming.ts",
    "line": 166,
    "end_line": 166,
    "severity": "medium",
    "category": "brainwav-branding",
    "description": "Missing brAInwav branding in console warning",
    "evidence": "console.warn('Streaming not available, falling back to invoke:', error);",
    "fix": "Add brAInwav branding: console.warn('[brAInwav] Streaming not available, falling back to invoke:', error);",
    "tests_to_add": "Test verifies all streaming logs include brAInwav branding",
    "rule": "brainwav-branding",
    "standards": [
      "governance:brand-logs-required",
      "checklist:6.2-branding-verification"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/langgraph/nodes.ts",
    "line": 428,
    "end_line": 429,
    "severity": "medium",
    "category": "codestyle",
    "description": "Incorrect Error constructor usage - Error constructor takes only message parameter",
    "evidence": "throw new Error(`[brAInwav] Tool not implemented: ${toolName}`, {\n\t\tcause: new Error('Feature not implemented'),\n\t});",
    "fix": "Use proper error chaining: const error = new Error(`[brAInwav] Tool not implemented: ${toolName}`); error.cause = new Error('Feature not implemented'); throw error;",
    "tests_to_add": "Test validates proper error chaining in tool execution",
    "rule": "codestyle:error-handling",
    "standards": [
      "codestyle:error-handling",
      "checklist:6.3-error-boundaries"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/langgraph/nodes.ts",
    "line": 420,
    "end_line": 425,
    "severity": "high",
    "category": "brainwav-prohibition",
    "description": "Mock response pattern in production code violates brAInwav prohibitions",
    "evidence": "// [brAInwav] Constitutional fix: Proper error handling instead of mock responses\nif (toolName.includes('failing')) {\n\tthrow new Error(`[brAInwav] Tool ${toolName} failed`, {\n\t\tcause: new Error('Tool execution failure'),\n\t});\n}",
    "fix": "Remove mock failing tool logic - implement proper tool execution or throw NotImplementedError for all unimplemented tools",
    "tests_to_add": "Test validates no mock responses in production tool execution",
    "rule": "brainwav-prohibition",
    "standards": [
      "governance:RULES_OF_AI#no-mock-responses",
      "codestyle:production-paths"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/langgraph/nodes.ts",
    "line": 422,
    "end_line": 422,
    "severity": "medium",
    "category": "codestyle",
    "description": "Incorrect Error constructor usage with cause parameter",
    "evidence": "throw new Error(`[brAInwav] Tool ${toolName} failed`, {\n\t\tcause: new Error('Tool execution failure'),\n\t});",
    "fix": "Use proper error chaining: const error = new Error(`[brAInwav] Tool ${toolName} failed`); error.cause = new Error('Tool execution failure'); throw error;",
    "tests_to_add": "Test validates proper error chaining pattern",
    "rule": "codestyle:error-handling",
    "standards": [
      "codestyle:error-handling"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/lib/phase-machine.ts",
    "line": 77,
    "end_line": 77,
    "severity": "medium",
    "category": "types",
    "description": "TypeScript any type used in production interface",
    "evidence": "context?: any;",
    "fix": "Replace any with proper type definition: context?: Record<string, unknown>;",
    "tests_to_add": "TypeScript validation test ensures no any types in production",
    "rule": "brainwav-any-prohibition",
    "standards": [
      "codestyle:strict-types",
      "governance:RULES_OF_AI#no-any-types"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/lib/phase-machine.ts",
    "line": 397,
    "end_line": 397,
    "severity": "medium",
    "category": "codestyle",
    "description": "Function exceeds 40 line limit (determineCurrentState is 25 lines but some functions approach limit)",
    "evidence": "Multiple functions approaching 40 line limit in phase machine",
    "fix": "Refactor larger functions into smaller, focused functions under 40 lines each",
    "tests_to_add": "Code complexity test validates function length limits",
    "rule": "codestyle:function-length",
    "standards": [
      "codestyle:function-length",
      "checklist:6.4-code-quality"
    ]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/schemas/run-manifest.ts",
    "line": 397,
    "end_line": 397,
    "severity": "low",
    "category": "observability",
    "description": "Hardcoded charter SHA - should be referenced from governance file",
    "evidence": "sha256: z.literal(\"a3fbfa90e71397ca\"",
    "fix": "Import charter SHA from governance file to maintain single source of truth",
    "tests_to_add": "Test validates charter SHA consistency across all files",
    "rule": "observability:single-source-of-truth",
    "standards": [
      "governance:charter-compliance",
      "checklist:6.5-governance-validation"
    ]
  }
]