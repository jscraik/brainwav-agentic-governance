[
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/package.json",
    "line": 7,
    "end_line": 12,
    "severity": "high",
    "category": "brainwav-prohibition",
    "description": "Missing governance loader export specifier causing import resolution failures",
    "evidence": "Missing \"./governance/*\": \"./src/governance/*\" in exports configuration",
    "fix": "Add \"./governance/*\": \"./src/governance/*\" to exports configuration in package.json",
    "tests_to_add": "Integration test to verify all @cortex-os/agents path imports resolve correctly",
    "rule": "brainwav.import-resolution",
    "standards": ["codestyle:module-resolution", "governance:AGENTS.md#imports"]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/lib/circuit-breaker.ts",
    "line": 265,
    "end_line": 266,
    "severity": "high",
    "category": "brainwav-branding",
    "description": "Console log missing brAInwav branding requirements per governance standards",
    "evidence": "console.log(`ðŸ”„ Circuit breaker state changed: ${oldState} â†’ ${newState}`);",
    "fix": "Replace with structured brAInwav-compliant logging: console.log(`[brAInwav] Circuit breaker state changed: ${oldState} â†’ ${newState}`, { brand: \"brAInwav\", component: \"circuit-breaker\" });",
    "tests_to_add": "Brand compliance validation test for all circuit breaker log outputs",
    "rule": "brainwav.branding.missing-in-logs",
    "standards": ["governance:AGENTS.md#branding", "policy:RULES_OF_AI#branding"]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/lib/circuit-breaker.ts",
    "line": 31,
    "end_line": 33,
    "severity": "medium",
    "category": "codestyle",
    "description": "Timer injection for testing creates complexity and potential production misuse",
    "evidence": "delayFunction?: (ms: number) => Promise<void>; option in CircuitBreakerOptions",
    "fix": "Add runtime validation to ensure delayFunction is only used in test environments",
    "tests_to_add": "Validation test to ensure delayFunction is not used in production",
    "rule": "brainwav.test-production-boundary",
    "standards": ["codestyle:test-isolation", "codestyle:production-safety"]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/tests/unit/circuit-breaker.test.ts",
    "line": 174,
    "end_line": 202,
    "severity": "medium",
    "category": "testing",
    "description": "Test complexity with manual timer mocking suggests design issues",
    "evidence": "Complex timer manipulation and delay function mocking in retry logic test",
    "fix": "Simplify test design with better abstractions and reduce manual state management",
    "tests_to_add": "Unit tests for timer injection validation and simpler retry logic testing",
    "rule": "brainwav.test-complexity",
    "standards": ["codestyle:test-reliability", "codestyle:test-simplicity"]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/tests/logging/rotation.test.ts",
    "line": 278,
    "end_line": 283,
    "severity": "medium",
    "category": "testing",
    "description": "Error handling mocks may not reflect real-world permission scenarios",
    "evidence": "Simplified error mocking for EACCES permission denied in rotation test",
    "fix": "Use more realistic error simulation that matches actual file system behavior",
    "tests_to_add": "Integration tests for real file system error scenarios",
    "rule": "brainwav.test-realism",
    "standards": ["codestyle:test-authenticity", "testing:integration"]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/src/lib/circuit-breaker.ts",
    "line": 316,
    "end_line": 317,
    "severity": "low",
    "category": "brainwav-branding",
    "description": "Console log missing brAInwav branding for metrics output",
    "evidence": "console.log(`ðŸ“Š Circuit breaker metrics: ${JSON.stringify(metrics)}`);",
    "fix": "Replace with brAInwav-branded structured logging",
    "tests_to_add": "Brand compliance test for all metrics logging",
    "rule": "brainwav.branding.missing-in-logs",
    "standards": ["governance:AGENTS.md#branding"]
  },
  {
    "file": "/Users/jamiecraik/.Cortex-OS/packages/agents/tests/logging/rotation.test.ts",
    "line": 1,
    "end_line": 418,
    "severity": "low",
    "category": "testing",
    "description": "8/10 tests passing indicates test reliability issues need investigation",
    "evidence": "Test suite shows 80% pass rate with 2 failing tests",
    "fix": "Review and stabilize failing test scenarios, improve test environment setup",
    "tests_to_add": "Regression tests for identified failure modes and edge cases",
    "rule": "brainwav.test-reliability",
    "standards": ["codestyle:test-stability", "testing:coverage"]
  }
]